window.STB_Admin=function(a){"use strict";function b(){g.find(".stb-trigger-options").toggle(""!==this.value)}function c(){a(this).parents("tr").remove()}function d(){var b=a(this).parents("tr"),c=b.find(".stb-rule-value");switch(h.hide(),c.show(),this.value){case"":default:c.attr("placeholder","Leave empty to match anything or enter a comma-separated list of IDs or slugs");break;case"everywhere":c.hide();break;case"is_single":c.attr("placeholder","Leave empty to match any post or enter a comma-separated list of post IDs or slugs");break;case"is_page":c.attr("placeholder","Leave empty to match any page or enter a comma-separated list of page IDs or slugs");break;case"is_post_type":c.attr("placeholder","Leave empty to match any post type or enter a comma-separated list of post type names");break;case"manual":c.attr("placeholder","Example: is_single(1, 3)"),h.show()}}function e(){var a=g.find(".stb-rule-row").last(),b=a.clone();return b.find("th > label").text("Or"),b.insertAfter(a).find(":input").val("").each(function(){this.name=this.name.replace(/\[(\d+)\]/,function(a,b){return"["+(parseInt(b,10)+1)+"]"})}).trigger("change"),!1}var f=a("#stb-box-appearance-controls"),g=a("#stb-box-options-controls"),h=g.find(".stb-manual-tip");g.on("click",".stb-add-rule",e),g.on("click",".stb-remove-rule",c),g.on("change",".stb-rule-condition",d),g.find(".stb-auto-show-trigger").on("change",b),a(window).load(function(){"undefined"==typeof window.tinyMCE&&(document.getElementById("notice-notinymce").style.display="block")});var i=function(){function b(){i=a("#content_ifr").contents().find("html"),j=i.find("#tinymce"),i.css({background:"white"}),j.addClass("stb scroll-triggered-box stb-content stb-"+l),j.get(0).style.cssText+=";padding: 25px !important;",j.css({display:"inline-block",height:"auto","min-width":"200px"}),k=document.createElement("style"),k.setAttribute("type","text/css"),k.id="stb-manual-css",a(k).appendTo(i.find("head")),g(),a(document).trigger("editorInit.stb")}function c(b,c){return m[b].value.length>0?a(m[b]).wpColorPicker("color"):"undefined"!=typeof c?c:""}function d(a,b){return m[a].value.length>0?parseInt(m[a].value)+"px":"undefined"!=typeof b?b:0}function e(a){return m[a].value.length>0?m[a].value:"undefined"!=typeof fallbackValue?fallbackValue:""}function g(){k.innerHTML=m.manualCSS.value,j.css({"border-color":c("borderColor",""),"border-width":d("borderWidth",""),"border-style":e("borderStyle",""),"background-color":c("backgroundColor",""),width:d("width","auto"),color:c("color","")}),a(document).trigger("applyBoxStyles.stb")}function h(){m.borderColor.value="",m.borderStyle.value="",m.borderWidth.value="",m.backgroundColor.value="",m.color.value="",m.manualCSS.value="",g(),a(document).trigger("resetBoxStyles.stb")}var i,j,k,l=document.getElementById("post_ID").value||0,m={borderColor:document.getElementById("stb-border-color"),borderWidth:document.getElementById("stb-border-width"),borderStyle:document.getElementById("stb-border-style"),backgroundColor:document.getElementById("stb-background-color"),width:document.getElementById("stb-width"),color:document.getElementById("stb-color"),manualCSS:document.getElementById("stb-manual-css")};return f.find("input.stb-color-field").wpColorPicker({change:g,clear:g}),f.find(":input").not(".stb-color-field").change(g),{init:b,resetStyles:h}}();return{Designer:i}}(window.jQuery);