window.STBAdmin=function(a){"use strict";function b(){a(this).parents("tr").remove()}function c(){var b=a(this).parents("tr"),c=b.find(".stb-rule-value");switch(l.hide(),c.show(),this.value){case"":default:c.attr("placeholder","Leave empty to match anything or enter a comma-separated list of IDs or slugs");break;case"everywhere":c.hide();break;case"is_single":c.attr("placeholder","Leave empty to match any post or enter a comma-separated list of post IDs or slugs");break;case"is_page":c.attr("placeholder","Leave empty to match any page or enter a comma-separated list of page IDs or slugs");break;case"is_post_type":c.attr("placeholder","Leave empty to match any post type or enter a comma-separated list of post type names");break;case"manual":c.attr("placeholder","Example: is_single(1, 3)"),l.show()}}function d(){var a=k.find(".stb-rule-row").last(),b=a.clone();return b.find("th > label").text("Or"),b.insertAfter(a).find(":input").val("").each(function(){this.name=this.name.replace(/\[(\d+)\]/,function(a,b){return"["+(parseInt(b,10)+1)+"]"})}).trigger("change"),!1}function e(a,b){return a.val()?parseInt(a.val()):void 0!==b?b+"px":0}function f(a,b){return a.val().length>0?a.wpColorPicker("color"):void 0!==b?b:""}function g(){i=a("#content_ifr").contents().find("html"),j=i.find("#tinymce"),i.css({background:"white"}),j.addClass("stb").addClass("scroll-triggered-box"),j.get(0).style.cssText+=";padding: 25px !important;",j.css({"border-style":"solid",display:"inline-block",height:"auto","min-width":"200px"}),h(),a(document).trigger("editorInit.stb")}function h(){j.css({"background-color":f(a("#stb-background-color")),"border-color":f(a("#stb-border-color")),"border-width":e(a("#stb-border-width")),width:e(a("#stb-width"),"auto"),color:f(a("#stb-color"))}),j.children().first().css({"margin-top":0}),j.children().last().css({"margin-bottom":0})}var i,j,k=a("#stb-options"),l=k.find(".stb-manual-tip");return a(document.body).css("overflow-y","scroll"),k.find(".inside").show(),k.find("input.stb-color-field").wpColorPicker({change:h,clear:h}),k.find(":input").not(".stb-color-field").change(h),k.on("click",".stb-add-rule",d),k.on("click",".stb-remove-rule",b),k.on("change",".stb-rule-condition",c),a("#stb_trigger").change(function(){a(this).parents("tr").find("input").hide().end().find("input.stb-trigger-"+a(this).val()).show()}),{onTinyMceInit:g}}(window.jQuery);