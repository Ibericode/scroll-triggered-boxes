window.STBAdmin=function(a){"use strict";function b(){g.find(".stb-trigger-options").toggle(""!==this.value)}function c(){a(this).parents("tr").remove()}function d(){var b=a(this).parents("tr"),c=b.find(".stb-rule-value");switch(h.hide(),c.show(),this.value){case"":default:c.attr("placeholder","Leave empty to match anything or enter a comma-separated list of IDs or slugs");break;case"everywhere":c.hide();break;case"is_single":c.attr("placeholder","Leave empty to match any post or enter a comma-separated list of post IDs or slugs");break;case"is_page":c.attr("placeholder","Leave empty to match any page or enter a comma-separated list of page IDs or slugs");break;case"is_post_type":c.attr("placeholder","Leave empty to match any post type or enter a comma-separated list of post type names");break;case"manual":c.attr("placeholder","Example: is_single(1, 3)"),h.show()}}function e(){var a=g.find(".stb-rule-row").last(),b=a.clone();return b.find("th > label").text("Or"),b.insertAfter(a).find(":input").val("").each(function(){this.name=this.name.replace(/\[(\d+)\]/,function(a,b){return"["+(parseInt(b,10)+1)+"]"})}).trigger("change"),!1}var f=a("#stb-box-appearance-controls"),g=a("#stb-box-options-controls"),h=g.find(".stb-manual-tip");g.on("click",".stb-add-rule",e),g.on("click",".stb-remove-rule",c),g.on("change",".stb-rule-condition",d),g.find(".stb-auto-show-trigger").on("change",b);var i=function(){function b(){h=a("#content_ifr").contents().find("html"),i=h.find("#tinymce"),h.css({background:"white"}),i.addClass("stb").addClass("scroll-triggered-box").addClass("stb-"+k),i.get(0).style.cssText+=";padding: 25px !important;",i.css({display:"inline-block",height:"auto","min-width":"200px"}),j=document.createElement("style"),j.setAttribute("type","text/css"),j.id="stb-manual-css",a(j).appendTo(h.find("head")),g(),a(document).trigger("editorInit.stb")}function c(b,c){return l[b].value.length>0?a(l[b]).wpColorPicker("color"):"undefined"!=typeof c?c:""}function d(a,b){return l[a].value.length>0?parseInt(l[a].value)+"px":"undefined"!=typeof b?b:0}function e(a){return l[a].value.length>0?l[a].value:"undefined"!=typeof fallbackValue?fallbackValue:""}function g(){j.innerHTML=l.manualCSS.value,i.css({"border-color":c("borderColor",""),"border-width":d("borderWidth",""),"border-style":e("borderStyle",""),"background-color":c("backgroundColor",""),width:d("width","auto"),color:c("color","")}),a(document).trigger("applyBoxStyles.stb")}var h,i,j,k=document.getElementById("post_ID").value||0,l={borderColor:document.getElementById("stb-border-color"),borderWidth:document.getElementById("stb-border-width"),borderStyle:document.getElementById("stb-border-style"),backgroundColor:document.getElementById("stb-background-color"),width:document.getElementById("stb-width"),color:document.getElementById("stb-color"),manualCSS:document.getElementById("stb-manual-css")};return f.find("input.stb-color-field").wpColorPicker({change:g,clear:g}),f.find(":input").not(".stb-color-field").change(g),{init:b}}();return{onTinyMceInit:i.init}}(window.jQuery);