!function(){var e=void 0,t=void 0;!function n(t,r,i){function s(a,l){if(!r[a]){if(!t[a]){var u="function"==typeof e&&e;if(!l&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=r[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return s(n?n:e)},d,d.exports,n,t,r,i)}return r[a].exports}for(var o="function"==typeof e&&e,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(e,n,r){(function(){"use strict";function e(){}function r(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var s=e.prototype,o=this,a=o.EventEmitter;s.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},s.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},s.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},s.addListener=function(e,t){var n,i=this.getListenersAsObject(e),s="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===r(i[n],t)&&i[n].push(s?t:{listener:t,once:!1});return this},s.on=i("addListener"),s.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},s.once=i("addOnceListener"),s.defineEvent=function(e){return this.getListeners(e),this},s.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},s.removeListener=function(e,t){var n,i,s=this.getListenersAsObject(e);for(i in s)s.hasOwnProperty(i)&&(n=r(s[i],t),-1!==n&&s[i].splice(n,1));return this},s.off=i("removeListener"),s.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},s.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},s.manipulateListeners=function(e,t,n){var r,i,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this},s.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},s.removeAllListeners=i("removeEvent"),s.emitEvent=function(e,t){var n,r,i,s,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)n=o[i][r],n.once===!0&&this.removeListener(e,n.listener),s=n.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},s.trigger=i("emitEvent"),s.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},s.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},s._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},s._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return o.EventEmitter=a,e},"function"==typeof t&&t.amd?t(function(){return e}):"object"==typeof n&&n.exports?n.exports=e:o.EventEmitter=e}).call(this)},{}],2:[function(e,t,n){window.STB_Admin=e("./admin/_admin.js")},{"./admin/_admin.js":3}],3:[function(e,t,n){t.exports=function(t){"use strict";function n(){o.find(".stb-trigger-options").toggle(""!==this.value)}function r(){t(this).parents("tr").remove()}function i(){var e;e="tr"===this.tagName.toLowerCase()?t(this):t(this).parents("tr");var n=e.find(".stb-rule-condition");e.find(".stb-helper").remove();var r=e.find(".stb-rule-value"),i=r.clone().attr("name","").addClass("stb-helper").insertAfter(r).show();switch(i.change(function(){r.attr("value",t(this).val())}),r.hide(),a.hide(),n.val()){case"":default:i.attr("placeholder","Enter a comma-separated list of slugs..");break;case"everywhere":r.val(""),i.hide();break;case"is_single":case"is_post":i.attr("placeholder","Enter a comma-separated list of post slugs or post ID's.."),i.suggest(ajaxurl+"?action=stb_autocomplete&type=post",{multiple:!0,multipleSep:","});break;case"is_page":i.attr("placeholder","Enter a comma-separated list of page slugs or page ID's.."),i.suggest(ajaxurl+"?action=stb_autocomplete&type=page",{multiple:!0,multipleSep:","});break;case"is_post_type":i.attr("placeholder","Enter a comma-separated list of post types.."),i.suggest(ajaxurl+"?action=stb_autocomplete&type=post_type",{multiple:!0,multipleSep:","});break;case"is_url":i.attr("placeholder","Enter a comma-separated list of relative URLs, eg /contact/");break;case"is_post_in_category":i.suggest(ajaxurl+"?action=stb_autocomplete&type=category",{multiple:!0,multipleSep:","});break;case"manual":i.attr("placeholder","Example: is_single(1, 3)"),a.show()}}function s(){var e=o.find(".stb-rule-row").last(),t=e.clone();return t.find("th").css({"text-align":"right","font-weight":"normal"}).find("label").text("or"),t.insertAfter(e).find(":input").val("").each(function(){this.name=this.name.replace(/\[(\d+)\]/,function(e,t){return"["+(parseInt(t,10)+1)+"]"})}).trigger("change"),!1}var o=t("#stb-box-options-controls");if(0!==o.length){var a=o.find(".stb-manual-tip"),l=e("../_event-emitter.js"),u=new l,c=e("./_option.js"),d=e("./_designer.js")(t,c,u);return o.on("click",".stb-add-rule",s),o.on("click",".stb-remove-rule",r),o.on("change",".stb-rule-condition",i),o.find(".stb-auto-show-trigger").on("change",n),t(window).load(function(){"undefined"==typeof window.tinyMCE&&(document.getElementById("notice-notinymce").style.display="block")}),t(".stb-rule-row").each(i),{Designer:d,Option:c,events:u}}}(window.jQuery)},{"../_event-emitter.js":1,"./_designer.js":4,"./_option.js":5}],4:[function(e,t,n){var r=function(e,t,n){function r(){"object"==typeof window.tinyMCE&&null!==tinyMCE.get("content")&&(a=e("#content_ifr"),o=a.contents().find("html"),o.css({background:"white"}),l=o.find("#tinymce"),l.addClass("scroll-triggered-box stb stb-"+c),l.css({margin:0,background:"white",display:"inline-block",width:"auto","min-width":"240px",position:"relative"}),l.get(0).style.cssText+=";padding: 25px !important;",u=document.createElement("style"),u.setAttribute("type","text/css"),u.id="stb-manual-css",e(u).appendTo(o.find("head")),f=!0,n.trigger("editor.init"),e(document).trigger("editorInit.stb"))}function i(){return f?(u.innerHTML=d.manualCSS.getValue(),l.css({"border-color":d.borderColor.getColorValue(),"border-width":d.borderWidth.getPxValue(),"border-style":d.borderStyle.getValue(),"background-color":d.backgroundColor.getColorValue(),width:d.width.getPxValue(),color:d.color.getColorValue()}),n.trigger("editor.styles.apply"),e(document).trigger("applyBoxStyles.stb"),!0):!1}function s(){for(var t in d)"theme"!==t.substring(0,5)&&d[t].clear();i(),n.trigger("editor.styles.reset"),e(document).trigger("resetBoxStyles.stb")}var o,a,l,u,c=document.getElementById("post_ID").value||0,d={},f=!1,p=e("#stb-box-appearance-controls");return d.borderColor=new t("border-color"),d.borderWidth=new t("border-width"),d.borderStyle=new t("border-style"),d.backgroundColor=new t("background-color"),d.width=new t("width"),d.color=new t("color"),d.manualCSS=new t("manual-css"),p.find("input.stb-color-field").wpColorPicker({change:i,clear:i}),p.find(":input").not(".stb-color-field").change(i),n.on("editor.init",i),{init:r,resetStyles:s,options:d}};t.exports=r},{}],5:[function(e,t,n){var r=function(e){var t=window.jQuery;"string"==typeof e&&(e=document.getElementById("stb-"+e)),this._element=e,this.getColorValue=function(){return this._element.value.length>0?t(this._element).hasClass("wp-color-field")?t(this._element).wpColorPicker("color"):this._element.value:""},this.getPxValue=function(e){return this._element.value.length>0?parseInt(this._element.value)+"px":e||""},this.getValue=function(e){return this._element.value.length>0?this._element.value:e||""},this.clear=function(){this._element.value=""},this.setValue=function(e){this._element.value=e}};t.exports=r},{}]},{},[2])}();
//# sourceMappingURL=admin-script.min.js.map
