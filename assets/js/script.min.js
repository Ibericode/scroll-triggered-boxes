!function(){var e=void 0,t=void 0;!function i(t,n,o){function s(l,h){if(!n[l]){if(!t[l]){var c="function"==typeof e&&e;if(!h&&c)return c(l,!0);if(r)return r(l,!0);var f=new Error("Cannot find module '"+l+"'");throw f.code="MODULE_NOT_FOUND",f}var u=n[l]={exports:{}};t[l][0].call(u.exports,function(e){var i=t[l][1][e];return s(i?i:e)},u,u.exports,i,t,n,o)}return n[l].exports}for(var r="function"==typeof e&&e,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(e,t,i){t.exports=function(t){"use strict";function i(){y||(t(".boxzilla").each(o),t(window).bind("scroll.boxzilla",r),t(window).bind("resize.boxzilla",s),t(window).bind("load",n),t(document).keyup(l),t(E).click(p),_.testMode&&console.log("Boxzilla: Test mode is enabled. Please disable test mode if you're done testing."),y=!0,O.trigger("ready"))}function n(){a()}function o(){var e=t(this),i=parseInt(this.id.substring("boxzilla-".length)),n=window.Boxzilla_Box_Options[i];n.element=this,n.$element=e,n.testMode=_.testMode,w[n.id]=new T(n,O)}function s(){L&&clearTimeout(L),L=window.setTimeout(a,100)}function r(){x&&clearTimeout(x),x=window.setTimeout(u,100)}function l(e){27==e.keyCode&&h()}function h(){for(var e in w){var t=w[e];t.visible&&!t.config.unclosable&&t.dismiss()}}function c(){for(var e in w){var t=w[e];t.visible||t.show()}}function f(){for(var e in w){var t=w[e];t.visible&&t.hide()}}function u(){var e=t(window).scrollTop(),i=e+.9*b;for(var n in w){var o=w[n];o.mayAutoShow()&&(o.triggerHeight<=0||(i>o.triggerHeight?o.visible||(o.show(),o.triggered=!0):o.mayAutoHide()&&o.visible&&o.hide()))}}function a(){b=window.innerHeight;for(var e in w){var t=w[e];t.setCustomBoxStyling()}}function g(e){"undefined"==typeof e?h():"object"==typeof w[e]&&w[e].dismiss()}function d(e){"object"==typeof w[e]&&w[e].hide()}function m(e){"object"==typeof w[e]&&w[e].show()}function v(e){"object"==typeof w[e]&&w[e].toggle()}function p(e){var t=e.offsetX,i=e.offsetY;for(var n in w){var o=w[n];if(o.visible&&!o.config.unclosable){var s=o.element.getBoundingClientRect(),r=100+.05*window.innerWidth;(t<s.left-r||t>s.right+r||i<s.top-r||i>s.bottom+r)&&o.dismiss()}}}var w={},y=!1,b=window.innerHeight,x=0,L=0,E=document.getElementById("boxzilla-overlay"),_=window.Boxzilla_Global_Options||{},k=e("wolfy87-eventemitter"),O=new k,T=e("./_box.js");return t(document).ready(i),window.setTimeout(i,5e3),{boxes:w,showBox:m,hideBox:d,toggleBox:v,showAllBoxes:c,hideAllBoxes:f,dismissAllBoxes:h,dismiss:g,events:O}}(window.jQuery)},{"./_box.js":2,"wolfy87-eventemitter":4}],2:[function(e,t,i){t.exports=function(){"use strict";var e=window.jQuery,t=(window.console||{log:function(){}},e(document.body).hasClass("logged-in")),i=(new Date).getTime(),n=function(t,i){this.id=t.id,this.title=t.title,this.element=t.element,this.$element=e(t.element),this.config=t,this.events=i,this.overlay=document.getElementById("boxzilla-overlay"),this.visible=!1,this.closed=!1,this.triggered=!1,this.triggerHeight=0,this.cookieSet=!1,this.config.autoShow&&""!==this.config.trigger&&("percentage"!==this.config.trigger&&"element"!==this.config.trigger||(this.triggerHeight=this.calculateTriggerHeight(t.triggerPercentage,t.triggerElementSelector)),this.cookieSet=this.isCookieSet()),this.init()};return n.prototype.init=function(){var t=this;this.$element.find(".boxzilla-close-icon").click(t.dismiss.bind(this)),this.$links=this.$element.find("a"),this.$forms=this.$element.find("form"),this.$links.click(function(e){t.events.trigger("box.interactions.link",[t,e.target])}),this.$forms.submit(function(e){t.setCookie(),t.events.trigger("box.interactions.form",[t,e.target])}),e(document.body).on("click",'a[href="#boxzilla-'+t.id+'"]',function(){return t.toggle(),!1}),this.config.autoShow&&"instant"===this.config.trigger&&!this.cookieSet?e(window).load(this.show.bind(this)):this.locationHashRefersBox()&&e(window).load(this.show.bind(this))},n.prototype.setCustomBoxStyling=function(){this.element.style.overflowY="auto",this.element.style.maxHeight="none";var e=window.innerHeight,t=this.$element.outerHeight();if(t>e&&(this.element.style.maxHeight=e+"px",this.element.style.overflowY="scroll"),"center"===this.config.position){var i=(e-t)/2;i=i>=0?i:0,this.element.style.marginTop=i+"px"}},n.prototype.toggle=function(t){return"undefined"==typeof t&&(t=!this.visible),this.$element.is(":animated")?!1:t===this.visible?!1:(this.visible=t,this.setCustomBoxStyling(),"center"===this.config.position&&e(this.overlay).fadeToggle("slow"),this.events.trigger("box."+(t?"show":"hide"),[this]),"fade"===this.config.animation?this.$element.fadeToggle("slow"):this.$element.slideToggle("slow"),!0)},n.prototype.show=function(){return this.events.trigger("box.show",[this]),this.toggle(!0)},n.prototype.hide=function(){return this.events.trigger("box.hide",[this]),this.toggle(!1)},n.prototype.calculateTriggerHeight=function(t,i){if("element"===this.config.trigger){var n=e(i).first();return n.length>0?n.offset().top:0}return t/100*e(document).height()},n.prototype.setCookie=function(){if(this.config.cookieTime){var e=new Date;e.setDate(e.getDate()+this.config.cookieTime),document.cookie="boxzilla_box_"+this.id+"=true; expires="+e.toUTCString()+"; path=/"}},n.prototype.locationHashRefersBox=function(){if(!window.location.hash||0===window.location.hash.length)return!1;var e=window.location.hash.substring(1);return e===this.element.id?!0:!!this.element.querySelector("#"+e)},n.prototype.mayAutoShow=function(){if(!this.config.autoShow)return!1;if(this.closed)return!1;if(this.config.minimumScreenWidth>0&&window.innerWidth<this.config.minimumScreenWidth)return!1;var e=(new Date).getTime();return i+500>e?!1:!this.cookieSet},n.prototype.mayAutoHide=function(){return this.config.autoHide?this.triggered:!1},n.prototype.isCookieSet=function(){if(t&&this.config.testMode)return!1;if(0===this.config.cookieTime)return!1;var e="true"===document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*boxzilla_box_"+this.id+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");return e},n.prototype.dismiss=function(){this.hide(),this.setCookie(),this.closed=!0,this.events.trigger("box.dismiss",[this])},n}()},{}],3:[function(e,t,i){window.Boxzilla=e("./_box-manager.js")},{"./_box-manager.js":1}],4:[function(e,i,n){(function(){"use strict";function e(){}function n(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function o(e){return function(){return this[e].apply(this,arguments)}}var s=e.prototype,r=this,l=r.EventEmitter;s.getListeners=function(e){var t,i,n=this._getEvents();if(e instanceof RegExp){t={};for(i in n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i])}else t=n[e]||(n[e]=[]);return t},s.flattenListeners=function(e){var t,i=[];for(t=0;t<e.length;t+=1)i.push(e[t].listener);return i},s.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&(t={},t[e]=i),t||i},s.addListener=function(e,t){var i,o=this.getListenersAsObject(e),s="object"==typeof t;for(i in o)o.hasOwnProperty(i)&&-1===n(o[i],t)&&o[i].push(s?t:{listener:t,once:!1});return this},s.on=o("addListener"),s.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},s.once=o("addOnceListener"),s.defineEvent=function(e){return this.getListeners(e),this},s.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},s.removeListener=function(e,t){var i,o,s=this.getListenersAsObject(e);for(o in s)s.hasOwnProperty(o)&&(i=n(s[o],t),-1!==i&&s[o].splice(i,1));return this},s.off=o("removeListener"),s.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},s.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},s.manipulateListeners=function(e,t,i){var n,o,s=e?this.removeListener:this.addListener,r=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)s.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(o=t[n])&&("function"==typeof o?s.call(this,n,o):r.call(this,n,o));return this},s.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},s.removeAllListeners=o("removeEvent"),s.emitEvent=function(e,t){var i,n,o,s,r,l=this.getListenersAsObject(e);for(s in l)if(l.hasOwnProperty(s))for(i=l[s].slice(0),o=i.length;o--;)n=i[o],n.once===!0&&this.removeListener(e,n.listener),r=n.listener.apply(this,t||[]),r===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},s.trigger=o("emitEvent"),s.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},s.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},s._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},s._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=l,e},"function"==typeof t&&t.amd?t(function(){return e}):"object"==typeof i&&i.exports?i.exports=e:r.EventEmitter=e}).call(this)},{}]},{},[3])}();
//# sourceMappingURL=script.min.js.map
